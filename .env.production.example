# =============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN - COMFY PRESTAMOS
# =============================================================================
# ⚠️ IMPORTANTE: Este es un archivo de ejemplo
# ⚠️ Copiar a .env y reemplazar TODOS los valores con credenciales reales
# =============================================================================

# ====================
# BASE DE DATOS
# ====================
POSTGRES_DB=caso_agile_prod
POSTGRES_USER=postgres
POSTGRES_PASSWORD=TU_PASSWORD_SEGURA_AQUI_MIN_32_CARACTERES

DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}?client_encoding=utf8"

# ====================
# FLASK
# ====================
FLASK_ENV=production
FLASK_DEBUG=False

# ⚠️ CRÍTICO: Generar con: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=GENERAR_CLAVE_SECRETA_UNICA_DE_64_CARACTERES_AQUI

# ====================
# API DNI (Opcional)
# ====================
DNI_API_KEY=TU_API_KEY_AQUI
DNI_API_URL=https://api.apis.net.pe/v2/reniec/dni

# ====================
# CORREO ELECTRÓNICO
# ====================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=tu_email_empresarial@tudominio.com
MAIL_PASSWORD=tu_app_password_de_gmail_aqui
MAIL_DEFAULT_SENDER=tu_email_empresarial@tudominio.com

# ====================
# FLOW PAYMENT GATEWAY (PRODUCCIÓN)
# ====================
# ⚠️ CRÍTICO: Solicitar credenciales de PRODUCCIÓN a Flow
# ⚠️ Las credenciales actuales son de SANDBOX (solo para testing)
FLOW_SECRET_KEY=TU_SECRET_KEY_DE_PRODUCCION_FLOW
FLOW_API_KEY=TU_API_KEY_DE_PRODUCCION_FLOW
FLOW_API_URL_SANDBOX=https://sandbox.flow.cl/api
FLOW_API_URL_PROD=https://www.flow.cl/api
FLOW_SANDBOX_MODE=false
FLOW_BYPASS_MODE=false

# ====================
# SEGURIDAD ADICIONAL
# ====================
# Limitar intentos de login
MAX_LOGIN_ATTEMPTS=5
LOGIN_TIMEOUT_MINUTES=15

# CORS (si tienes frontend separado)
# CORS_ORIGINS=https://tudominio.com

# ====================
# INSTRUCCIONES DE DESPLIEGUE
# ====================
# 1. Copiar este archivo a .env
# 2. Reemplazar TODOS los valores marcados con ⚠️
# 3. Cambiar currency='CLP' a currency='PEN' en app/services/flow_service.py línea 119
# 4. Generar SECRET_KEY con: python -c "import secrets; print(secrets.token_hex(32))"
# 5. Solicitar credenciales de PRODUCCIÓN a Flow (https://www.flow.cl)
# 6. Configurar certificado SSL/HTTPS en servidor
# 7. Usar PostgreSQL con SSL habilitado
# 8. Configurar backups automáticos de base de datos
# 9. Habilitar logs de auditoría
# 10. Configurar firewall para limitar acceso a BD
